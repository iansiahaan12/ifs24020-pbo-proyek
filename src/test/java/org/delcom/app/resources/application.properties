# ==========================================
# KONFIGURASI KHUSUS TESTING (ROBUST H2)
# ==========================================

# 1. URL H2 dengan "Hack" untuk mengenali tipe data 'uuid'
# INIT=... membuat domain 'uuid' agar H2 tidak crash saat ketemu columnDefinition="uuid"
spring.datasource.url=jdbc:h2:mem:testdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;INIT=CREATE DOMAIN IF NOT EXISTS "uuid" AS UUID

spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# 2. Paksa menggunakan Dialect H2 agar Hibernate tidak bingung
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true

# 3. MATIKAN DevTools (Sering menyebabkan error context reload di test)
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# 4. Setting Lainnya
app.upload.dir=./target/test-uploads
spring.cache.type=none
spring.thymeleaf.cache=false
logging.level.root=INFO